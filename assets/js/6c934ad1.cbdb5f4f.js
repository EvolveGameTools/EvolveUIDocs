"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4973],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>k});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=c(a),m=r,k=p["".concat(s,".").concat(m)]||p[m]||u[m]||l;return a?n.createElement(k,o(o({ref:t},d),{},{components:a})):n.createElement(k,o({ref:t},d))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[p]="string"==typeof e?e:r,o[1]=i;for(var c=2;c<l;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},32081:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var n=a(87462),r=(a(67294),a(3905));const l={},o="Canvas Guide",i={unversionedId:"canvas/canvas-guide",id:"canvas/canvas-guide",title:"Canvas Guide",description:"The Canvas API provides an HTML5-style 2D vector graphics rendering system for EvolveUI. It follows a familiar immediate-mode drawing pattern similar to the browser's Canvas 2D context, making it intuitive for developers with web experience.",source:"@site/docs/canvas/canvas-guide.md",sourceDirName:"canvas",slug:"/canvas/canvas-guide",permalink:"/EvolveUIDocs/docs/canvas/canvas-guide",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"conceptual",previous:{title:"Canvas API Reference",permalink:"/EvolveUIDocs/docs/canvas/canvas-api-reference"},next:{title:"Setting Up a Canvas Painter",permalink:"/EvolveUIDocs/docs/canvas/canvas-painter-setup"}},s={},c=[{value:"Core Concepts",id:"core-concepts",level:2},{value:"State Machine",id:"state-machine",level:3},{value:"Save and Restore",id:"save-and-restore",level:3},{value:"Coordinate System",id:"coordinate-system",level:3},{value:"Path-Based Drawing",id:"path-based-drawing",level:2},{value:"Basic Path Workflow",id:"basic-path-workflow",level:3},{value:"Path Commands",id:"path-commands",level:3},{value:"Shape Primitives",id:"shape-primitives",level:3},{value:"Convenience Drawing Methods",id:"convenience-drawing-methods",level:3},{value:"Fill Styles",id:"fill-styles",level:2},{value:"Solid Colors",id:"solid-colors",level:3},{value:"Linear Gradients",id:"linear-gradients",level:3},{value:"Radial Gradients",id:"radial-gradients",level:3},{value:"Conic Gradients",id:"conic-gradients",level:3},{value:"Using CanvasGradient Objects",id:"using-canvasgradient-objects",level:3},{value:"Step Interpolation",id:"step-interpolation",level:3},{value:"Stroke Styles",id:"stroke-styles",level:2},{value:"Stroke Color",id:"stroke-color",level:3},{value:"Stroke Gradients",id:"stroke-gradients",level:3},{value:"Line Properties",id:"line-properties",level:3},{value:"Dash Patterns",id:"dash-patterns",level:3},{value:"Transforms",id:"transforms",level:2},{value:"Basic Transforms",id:"basic-transforms",level:3},{value:"Matrix Operations",id:"matrix-operations",level:3},{value:"Transform Example",id:"transform-example",level:3},{value:"Font Loading",id:"font-loading",level:2},{value:"Loading from File",id:"loading-from-file",level:3},{value:"Loading from Memory",id:"loading-from-memory",level:3},{value:"Finding Loaded Fonts",id:"finding-loaded-fonts",level:3},{value:"Font Chains",id:"font-chains",level:3},{value:"Font Families",id:"font-families",level:3},{value:"Global Fallback Font",id:"global-fallback-font",level:3},{value:"How Fallback Resolution Works",id:"how-fallback-resolution-works",level:3},{value:"Font Parameters",id:"font-parameters",level:3},{value:"Supported Font Formats",id:"supported-font-formats",level:3},{value:"Text Rendering",id:"text-rendering",level:2},{value:"Basic Text",id:"basic-text",level:3},{value:"Text Properties",id:"text-properties",level:3},{value:"Text Effects",id:"text-effects",level:3},{value:"Text Gradients",id:"text-gradients",level:3},{value:"Text Decorations",id:"text-decorations",level:3},{value:"Variable Font Axes",id:"variable-font-axes",level:3},{value:"Patterns and Textures",id:"patterns-and-textures",level:2},{value:"Setting a Pattern",id:"setting-a-pattern",level:3},{value:"Pattern Properties",id:"pattern-properties",level:3},{value:"Clipping",id:"clipping",level:2},{value:"Global Alpha",id:"global-alpha",level:2},{value:"Shadows (Path)",id:"shadows-path",level:2},{value:"Fill Rules",id:"fill-rules",level:2},{value:"Color Space",id:"color-space",level:2},{value:"Complete Example",id:"complete-example",level:2}],d={toc:c};function p(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"canvas-guide"},"Canvas Guide"),(0,r.kt)("p",null,"The Canvas API provides an HTML5-style 2D vector graphics rendering system for EvolveUI. It follows a familiar immediate-mode drawing pattern similar to the browser's Canvas 2D context, making it intuitive for developers with web experience."),(0,r.kt)("h2",{id:"core-concepts"},"Core Concepts"),(0,r.kt)("h3",{id:"state-machine"},"State Machine"),(0,r.kt)("p",null,"Canvas operates as a state machine. You configure drawing properties (colors, transforms, line styles) and then issue drawing commands. The current state affects all subsequent drawing operations until you change it."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetFillColor(Color.red);    // Set state\ncanvas.FillRect(0, 0, 100, 100);   // Draw with current state\ncanvas.SetFillColor(Color.blue);   // Change state\ncanvas.FillRect(50, 50, 100, 100); // Draw with new state\n")),(0,r.kt)("h3",{id:"save-and-restore"},"Save and Restore"),(0,r.kt)("p",null,"Canvas supports a state stack. Use ",(0,r.kt)("inlineCode",{parentName:"p"},"Save()")," to push the current state and ",(0,r.kt)("inlineCode",{parentName:"p"},"Restore()")," to pop it back. This is essential for isolating transformations and style changes."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.Save();\ncanvas.Translate(100, 100);\ncanvas.Rotate(0.5f);\ncanvas.SetFillColor(Color.green);\ncanvas.FillRect(-25, -25, 50, 50);  // Draws rotated rect at (100, 100)\ncanvas.Restore();                    // Back to original transform and color\n")),(0,r.kt)("h3",{id:"coordinate-system"},"Coordinate System"),(0,r.kt)("p",null,"Canvas uses a top-left origin coordinate system where:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"X increases to the right"),(0,r.kt)("li",{parentName:"ul"},"Y increases downward"),(0,r.kt)("li",{parentName:"ul"},"Angles are in radians (clockwise rotation)")),(0,r.kt)("h2",{id:"path-based-drawing"},"Path-Based Drawing"),(0,r.kt)("p",null,"Canvas uses a path-based drawing model. You build up a path using path commands, then fill or stroke it."),(0,r.kt)("h3",{id:"basic-path-workflow"},"Basic Path Workflow"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.BeginPath();           // Start a new path\ncanvas.MoveTo(10, 10);        // Position pen\ncanvas.LineTo(100, 10);       // Draw line\ncanvas.LineTo(100, 100);      // Continue path\ncanvas.ClosePath();           // Connect back to start\ncanvas.Fill();                // Fill the shape\n// or canvas.Stroke();        // Stroke the outline\n")),(0,r.kt)("h3",{id:"path-commands"},"Path Commands"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Command"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"BeginPath()")),(0,r.kt)("td",{parentName:"tr",align:null},"Clear and start a new path")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"MoveTo(x, y)")),(0,r.kt)("td",{parentName:"tr",align:null},"Move pen without drawing")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"LineTo(x, y)")),(0,r.kt)("td",{parentName:"tr",align:null},"Draw line to point")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"QuadraticCurveTo(cx, cy, x, y)")),(0,r.kt)("td",{parentName:"tr",align:null},"Quadratic bezier curve")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"BezierCurveTo(c1x, c1y, c2x, c2y, x, y)")),(0,r.kt)("td",{parentName:"tr",align:null},"Cubic bezier curve")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Arc(cx, cy, r, startAngle, endAngle, dir)")),(0,r.kt)("td",{parentName:"tr",align:null},"Arc segment")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ArcTo(x1, y1, x2, y2, radius)")),(0,r.kt)("td",{parentName:"tr",align:null},"Arc connecting two points")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ClosePath()")),(0,r.kt)("td",{parentName:"tr",align:null},"Close path to start point")))),(0,r.kt)("h3",{id:"shape-primitives"},"Shape Primitives"),(0,r.kt)("p",null,"Canvas provides convenience methods for common shapes:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.Rect(x, y, width, height);\ncanvas.RoundedRect(x, y, width, height, radius);\ncanvas.RoundedRect(x, y, width, height, rTL, rTR, rBR, rBL);  // Per-corner\ncanvas.BevelledRect(x, y, width, height, bevel);\ncanvas.Circle(cx, cy, radius);\ncanvas.Ellipse(cx, cy, rx, ry);\n")),(0,r.kt)("h3",{id:"convenience-drawing-methods"},"Convenience Drawing Methods"),(0,r.kt)("p",null,"For simple cases, use the combined methods:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.FillRect(x, y, w, h);      // BeginPath + Rect + Fill\ncanvas.StrokeRect(x, y, w, h);    // BeginPath + Rect + Stroke\ncanvas.FillCircle(cx, cy, r);     // BeginPath + Circle + Fill\ncanvas.StrokeCircle(cx, cy, r);   // BeginPath + Circle + Stroke\n")),(0,r.kt)("h2",{id:"fill-styles"},"Fill Styles"),(0,r.kt)("h3",{id:"solid-colors"},"Solid Colors"),(0,r.kt)("p",null,"Set fill color using multiple formats:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"// Unity Color32 (sRGB)\ncanvas.SetFillColor(new Color32(255, 128, 0, 255));\n\n// Unity Color (sRGB)\ncanvas.SetFillColor(Color.red);\n\n// Byte RGBA (0-255, sRGB)\ncanvas.SetFillColor(255, 128, 0, 255);\n\n// Float RGBA (0.0-1.0, sRGB)\ncanvas.SetFillColor(1.0f, 0.5f, 0.0f, 1.0f);\n")),(0,r.kt)("h3",{id:"linear-gradients"},"Linear Gradients"),(0,r.kt)("p",null,"Simple two-color gradient:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetLinearGradient(\n    startX, startY,    // Gradient start point\n    endX, endY,        // Gradient end point\n    Color.red,         // Start color\n    Color.blue         // End color\n);\ncanvas.FillRect(0, 0, 200, 100);\n")),(0,r.kt)("p",null,"Multi-stop gradient using ColorStop array:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"var stops = new ColorStop[] {\n    new ColorStop(0.0f, Color.red),\n    new ColorStop(0.5f, Color.yellow),\n    new ColorStop(1.0f, Color.blue)\n};\ncanvas.SetLinearGradient(0, 0, 200, 0, stops);\ncanvas.FillRect(0, 0, 200, 100);\n")),(0,r.kt)("h3",{id:"radial-gradients"},"Radial Gradients"),(0,r.kt)("p",null,"Simple radial gradient:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetRadialGradient(\n    centerX, centerY,  // Center point\n    radius,            // Radius\n    Color.white,       // Inner color\n    Color.black        // Outer color\n);\n")),(0,r.kt)("p",null,"Two-circle radial (HTML Canvas style):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetRadialGradient(\n    x0, y0, r0,        // Inner circle\n    x1, y1, r1,        // Outer circle\n    innerColor, outerColor\n);\n")),(0,r.kt)("h3",{id:"conic-gradients"},"Conic Gradients"),(0,r.kt)("p",null,"Sweep around a center point:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetConicGradient(\n    centerX, centerY,\n    startAngle,        // In radians\n    startColor, endColor\n);\n")),(0,r.kt)("h3",{id:"using-canvasgradient-objects"},"Using CanvasGradient Objects"),(0,r.kt)("p",null,"For reusable gradients with more control:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"var gradient = CanvasGradient.CreateLinearGradient(0, 0, 100, 0);\ngradient.AddColorStop(0.0f, Color.red);\ngradient.AddColorStop(0.5f, Color.green);\ngradient.AddColorStop(1.0f, Color.blue);\n\ncanvas.SetFillGradient(gradient);\ncanvas.FillRect(0, 0, 100, 50);\n")),(0,r.kt)("h3",{id:"step-interpolation"},"Step Interpolation"),(0,r.kt)("p",null,"Create hard edges between colors:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"var gradient = CanvasGradient.CreateLinearGradient(0, 0, 100, 0);\ngradient.AddColorStop(0.0f, Color.red);\ngradient.AddColorStopStep(0.5f, Color.blue);  // Hard edge at 50%\ngradient.AddColorStop(1.0f, Color.green);\n")),(0,r.kt)("p",null,"Or use ",(0,r.kt)("inlineCode",{parentName:"p"},"ColorStopInterpolation.Step")," in the ColorStop constructor."),(0,r.kt)("h2",{id:"stroke-styles"},"Stroke Styles"),(0,r.kt)("h3",{id:"stroke-color"},"Stroke Color"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetStrokeColor(Color.black);\n// Same variants as SetFillColor: Color32, byte RGBA, float RGBA\n")),(0,r.kt)("h3",{id:"stroke-gradients"},"Stroke Gradients"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetStrokeLinearGradient(x0, y0, x1, y1, startColor, endColor);\ncanvas.SetStrokeRadialGradient(cx, cy, radius, innerColor, outerColor);\ncanvas.SetStrokeConicGradient(cx, cy, angle, startColor, endColor);\ncanvas.SetStrokeGradient(canvasGradient);\n")),(0,r.kt)("h3",{id:"line-properties"},"Line Properties"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetStrokeWidth(3.0f);              // Stroke width in pixels\ncanvas.SetStrokeCapType(StrokeCapType.Round); // Line endings\ncanvas.SetStrokeJoinType(StrokeJoinType.Round); // Corner style\ncanvas.SetStrokeMiterLimit(10.0f);            // Miter join limit\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Line Cap Types:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"None")," - No cap"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Flat")," - Flat cap at endpoint"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Square")," - Square cap extending past endpoint"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Round")," - Rounded cap"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Triangle")," - Triangular cap")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Line Join Types:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Miter")," - Sharp corners (with miter limit fallback to bevel)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Bevel")," - Beveled corners"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Round")," - Rounded corners")),(0,r.kt)("h3",{id:"dash-patterns"},"Dash Patterns"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetDashPattern(new float[] { 10, 5 });           // Array form\ncanvas.SetDashPattern(10, 5);                            // Individual values\ncanvas.SetDashPattern(new float[] { 10, 5 }, offset: 3); // With offset\n")),(0,r.kt)("h2",{id:"transforms"},"Transforms"),(0,r.kt)("h3",{id:"basic-transforms"},"Basic Transforms"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.Translate(x, y);      // Move origin\ncanvas.Rotate(angle);        // Rotate (radians)\ncanvas.Scale(sx, sy);        // Scale\ncanvas.SkewX(angle);         // Skew X axis\ncanvas.SkewY(angle);         // Skew Y axis\n")),(0,r.kt)("h3",{id:"matrix-operations"},"Matrix Operations"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"// Apply transformation matrix [a b c d e f]\n// | a c e |\n// | b d f |\n// | 0 0 1 |\ncanvas.Transform(a, b, c, d, e, f);\n\n// Replace current transform\ncanvas.SetTransform(a, b, c, d, e, f);\n\n// Reset to identity\ncanvas.ResetTransform();\n\n// Get current transform\nEVGTransform t = canvas.GetTransform();\n")),(0,r.kt)("h3",{id:"transform-example"},"Transform Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.Save();\ncanvas.Translate(150, 150);           // Move to center\ncanvas.Rotate(MathF.PI / 4);          // Rotate 45 degrees\ncanvas.SetFillColor(Color.red);\ncanvas.FillRect(-50, -50, 100, 100);  // Draw centered rect\ncanvas.Restore();\n")),(0,r.kt)("h2",{id:"font-loading"},"Font Loading"),(0,r.kt)("p",null,"Before rendering text, you need to load fonts. The ",(0,r.kt)("inlineCode",{parentName:"p"},"UIAssetManager")," provides methods to load fonts at runtime."),(0,r.kt)("h3",{id:"loading-from-file"},"Loading from File"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'// Load a font from a file path\nVectorFont titleFont = assetManager.LoadVectorFont("/path/to/font.ttf");\n\n// Load with custom name and scaling\nVectorFont scaledFont = assetManager.LoadVectorFont(\n    "/path/to/font.otf",\n    fontName: "MyFont",\n    scale: 1.2f,\n    offset: 0.0f\n);\n')),(0,r.kt)("h3",{id:"loading-from-memory"},"Loading from Memory"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'// Load from a byte array (useful for embedded resources)\nbyte[] fontData = File.ReadAllBytes("font.ttf");\nVectorFont font = assetManager.LoadVectorFontFromMemory(fontData, "EmbeddedFont");\n\n// With scaling parameters\nVectorFont scaled = assetManager.LoadVectorFontFromMemory(\n    fontData,\n    "ScaledFont",\n    scale: 0.9f,\n    offset: -0.05f\n);\n')),(0,r.kt)("h3",{id:"finding-loaded-fonts"},"Finding Loaded Fonts"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'// Check if a font is loaded\nif (assetManager.HasVectorFont("MyFont")) {\n    VectorFont font = assetManager.FindVectorFont("MyFont");\n    canvas.SetFont(font);\n}\n')),(0,r.kt)("h3",{id:"font-chains"},"Font Chains"),(0,r.kt)("p",null,"Font chains allow you to specify multiple fonts as fallbacks. When a character is not found in the first font, subsequent fonts in the chain are tried in order. This is useful for combining fonts with different character coverage."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'// Load individual fonts\nVectorFont mainFont = assetManager.LoadVectorFont("/path/to/main.ttf", "Main");\nVectorFont emojiFont = assetManager.LoadVectorFont("/path/to/emoji.ttf", "Emoji");\nVectorFont cjkFont = assetManager.LoadVectorFont("/path/to/cjk.ttf", "CJK");\n\n// Create a chain: try Main first, then Emoji, then CJK\nVectorFont chainedFont = assetManager.CreateFontChain("MyChain", mainFont, emojiFont, cjkFont);\n\n// Use the chain like any other font\ncanvas.SetFont(chainedFont);\ncanvas.Text(10, 10, 500, "Hello \ud83d\ude00 \u4e16\u754c");  // Each character uses the appropriate font\n')),(0,r.kt)("h3",{id:"font-families"},"Font Families"),(0,r.kt)("p",null,"Font families group multiple weights and styles of the same typeface. The system automatically selects the best match based on the current font weight and style settings."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'// First load FontInfo for each variant\nFontInfo regular = assetManager.LoadFontInfo("/fonts/Roboto-Regular.ttf");\nFontInfo bold = assetManager.LoadFontInfo("/fonts/Roboto-Bold.ttf");\nFontInfo italic = assetManager.LoadFontInfo("/fonts/Roboto-Italic.ttf");\nFontInfo boldItalic = assetManager.LoadFontInfo("/fonts/Roboto-BoldItalic.ttf");\n\n// Create a family with multiple weights and styles\nVectorFont robotoFamily = assetManager.CreateFontFamily("Roboto",\n    new FontFamilyMemberInfo(regular, 400, FontStyle.Normal),\n    new FontFamilyMemberInfo(bold, 700, FontStyle.Normal),\n    new FontFamilyMemberInfo(italic, 400, FontStyle.Italic),\n    new FontFamilyMemberInfo(boldItalic, 700, FontStyle.Italic)\n);\n\ncanvas.SetFont(robotoFamily);\ncanvas.SetFontWeight(400);\ncanvas.Text(10, 10, 500, "Regular text");\n\ncanvas.SetFontWeight(700);\ncanvas.Text(10, 40, 500, "Bold text");\n\ncanvas.SetFontStyle(FontStyle.Italic);\ncanvas.Text(10, 70, 500, "Bold italic text");\n')),(0,r.kt)("h3",{id:"global-fallback-font"},"Global Fallback Font"),(0,r.kt)("p",null,"In addition to font chains, you can set a global fallback font that applies to all text rendering when a character is not found in the primary font (or its chain)."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'VectorFont emojiFont = assetManager.LoadVectorFont("/path/to/emoji.ttf", "Emoji");\nassetManager.SetGlobalFallbackFont(emojiFont);\n\n// Get the current fallback\nVectorFont currentFallback = assetManager.GetGlobalFallbackFont();\n')),(0,r.kt)("h3",{id:"how-fallback-resolution-works"},"How Fallback Resolution Works"),(0,r.kt)("p",null,"When rendering a character, the system searches for it in this order:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Primary font")," - The font set via ",(0,r.kt)("inlineCode",{parentName:"li"},"SetFont()")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Chain fonts")," - If the primary font is a chain, try each font in order"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Global fallback")," - If set via ",(0,r.kt)("inlineCode",{parentName:"li"},"SetGlobalFallbackFont()")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Missing glyph")," - A placeholder glyph (typically a box or question mark)")),(0,r.kt)("h3",{id:"font-parameters"},"Font Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"filePath")),(0,r.kt)("td",{parentName:"tr",align:null},"Path to the font file (.ttf, .otf, .woff, etc.)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"fontName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name to identify the font. If null, uses the filename.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"scale")),(0,r.kt)("td",{parentName:"tr",align:null},"Scale factor applied to the font (default: 1.0)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"offset")),(0,r.kt)("td",{parentName:"tr",align:null},"Vertical offset for baseline adjustment (default: 0.0)")))),(0,r.kt)("h3",{id:"supported-font-formats"},"Supported Font Formats"),(0,r.kt)("p",null,"EvolveUI supports standard TrueType (.ttf) and OpenType (.otf) fonts, including:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Variable fonts with axis variations (weight, width, etc.)"),(0,r.kt)("li",{parentName:"ul"},"Color fonts using CPAL/COLRv0 tables (multi-colored glyphs, layered emoji)")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," COLRv1 fonts are not currently supported. If you need color emoji, use a font with COLRv0 or CPAL tables."),(0,r.kt)("h2",{id:"text-rendering"},"Text Rendering"),(0,r.kt)("h3",{id:"basic-text"},"Basic Text"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'canvas.SetFont(myVectorFont);\ncanvas.SetFontSize(24);\ncanvas.SetTextFillColor(Color.black);\ncanvas.Text(x, y, maxWidth, "Hello World");\n')),(0,r.kt)("h3",{id:"text-properties"},"Text Properties"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"// Font selection\ncanvas.SetFont(font);\ncanvas.SetFontSize(24);\ncanvas.SetFontWeight(700);                    // 100-900, 400=normal, 700=bold\ncanvas.SetFontStyle(FontStyle.Italic);\ncanvas.SetFontStretch(1.0f);                  // Horizontal stretch\n\n// Typography\ncanvas.SetCharSpacing(0.05f);                 // Tracking in em\ncanvas.SetTextLineHeight(1.5f);               // Line height in em\ncanvas.SetTextAlignment(TextAlignment.Center);\ncanvas.SetTextBaseline(TextBaseline.Alphabetic);\n\n// Transforms\ncanvas.SetTextScale(1.0f, 1.0f);\ncanvas.SetTextSkew(0.2f);                     // Slant\n")),(0,r.kt)("h3",{id:"text-effects"},"Text Effects"),(0,r.kt)("p",null,"Enable effects using flags:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetTextEffect(TextEffect.Fill | TextEffect.Shadow | TextEffect.Stroke);\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Available Effects:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TextEffect.Fill")," - Base filled text"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TextEffect.Shadow")," - Drop shadow beneath"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TextEffect.Outline")," - Expanded outline beneath"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TextEffect.Stroke")," - Stroked outline on top")),(0,r.kt)("p",null,"Configure each effect:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"// Fill (base text color)\ncanvas.SetTextFillColor(Color.white);\n\n// Shadow\ncanvas.SetTextShadowColor(new Color32(0, 0, 0, 128));\ncanvas.SetTextShadowOffset(2, 2);\n\n// Outline\ncanvas.SetTextOutlineColor(Color.black);\ncanvas.SetTextOutlineSize(0.05f);              // In em\ncanvas.SetTextOutlineOffset(0, 0);\n\n// Stroke\ncanvas.SetTextStrokeColor(Color.black);\ncanvas.SetTextStrokeWidth(0.02f);              // In em\ncanvas.SetTextStrokeCapType(StrokeCapType.Round);\ncanvas.SetTextStrokeJoinType(StrokeJoinType.Round);\n")),(0,r.kt)("h3",{id:"text-gradients"},"Text Gradients"),(0,r.kt)("p",null,"Apply gradients to any text effect:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"// Set gradient coordinate space first\ncanvas.SetTextFillGradientSpace(TextGradientSpace.Layout);  // 0-1 normalized to text bounds\n\n// Then set the gradient\ncanvas.SetTextFillLinearGradient(0, 0, 1, 0, Color.red, Color.blue);\n\n// Or use CanvasGradient objects\nvar gradient = CanvasGradient.CreateLinearGradient(0, 0, 1, 1);\ngradient.AddColorStop(0, Color.red);\ngradient.AddColorStop(1, Color.blue);\ncanvas.SetTextFillGradient(gradient);\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Gradient Spaces:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TextGradientSpace.Em")," - Normalized to font em-square (per-glyph)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TextGradientSpace.Layout")," - Normalized to text layout bounds"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TextGradientSpace.World")," - Pixel coordinates")),(0,r.kt)("h3",{id:"text-decorations"},"Text Decorations"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"// Underline\ncanvas.SetTextUnderline(true);\ncanvas.SetTextUnderline(Color.blue);           // Enable with color\ncanvas.SetTextUnderlineGradient(gradient);\n\n// Strikethrough\ncanvas.SetTextStrikethrough(true);\ncanvas.SetTextStrikethrough(Color.red);\ncanvas.SetTextStrikethroughGradient(gradient);\n")),(0,r.kt)("h3",{id:"variable-font-axes"},"Variable Font Axes"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'canvas.SetAxisVariation("wght", 700);   // Weight axis\ncanvas.SetAxisVariation("wdth", 75);    // Width axis\ncanvas.ClearAxisVariations();\n')),(0,r.kt)("h2",{id:"patterns-and-textures"},"Patterns and Textures"),(0,r.kt)("h3",{id:"setting-a-pattern"},"Setting a Pattern"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetPatternTexture(textureId);\ncanvas.SetPatternMode(\n    PatternSpace.Bounds,      // Coordinate space\n    PatternSizing.Cover,      // How texture maps\n    PatternRepeat.Repeat      // Repeat behavior\n);\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Pattern Space:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Bounds")," - UVs are ","[0,1]"," within shape bounds (CSS-like)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"World")," - UVs are world/pixel coordinates")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Pattern Sizing:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Stretch")," - Fill bounds, ignore aspect ratio"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Contain")," - Fit inside bounds, preserve aspect (letterbox)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Cover")," - Cover bounds, preserve aspect (may crop)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Tile")," - Tile at specified size")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Pattern Repeat:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"NoRepeat")," - Clamp to edges"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Repeat")," - Tile both axes"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"RepeatX")," - Tile X, clamp Y"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"RepeatY")," - Tile Y, clamp X")),(0,r.kt)("h3",{id:"pattern-properties"},"Pattern Properties"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetPatternTileSize(64, 64);      // For Tile mode\ncanvas.SetPatternPosition(0.5f, 0.5f);  // Origin offset\ncanvas.SetPatternTransform(transform);   // Additional transform\ncanvas.ClearPattern();                   // Remove pattern\n")),(0,r.kt)("h2",{id:"clipping"},"Clipping"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.BeginPath();\ncanvas.Circle(100, 100, 50);\ncanvas.Clip();                           // Set as clip region\n\n// Subsequent draws are clipped to circle\ncanvas.SetFillColor(Color.blue);\ncanvas.FillRect(0, 0, 200, 200);         // Only visible inside circle\n")),(0,r.kt)("h2",{id:"global-alpha"},"Global Alpha"),(0,r.kt)("p",null,"Apply transparency to all drawing operations:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetGlobalAlpha(0.5f);             // 50% transparent\ncanvas.FillRect(0, 0, 100, 100);\ncanvas.SetGlobalAlpha(1.0f);             // Reset to opaque\n")),(0,r.kt)("h2",{id:"shadows-path"},"Shadows (Path)"),(0,r.kt)("p",null,"Generic shadows for path rendering (separate from text shadows):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.SetShadowOffset(4, 4);\ncanvas.SetShadowColor(new Color32(0, 0, 0, 128));\n")),(0,r.kt)("h2",{id:"fill-rules"},"Fill Rules"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"canvas.Fill();          // Non-zero winding rule (default)\ncanvas.FillEvenOdd();   // Even-odd rule for complex paths\n")),(0,r.kt)("h2",{id:"color-space"},"Color Space"),(0,r.kt)("p",null,"Canvas uses linear color internally for accurate gradient interpolation in OkLab color space. Input colors in sRGB (standard ",(0,r.kt)("inlineCode",{parentName:"p"},"Color")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Color32"),") are automatically converted. Use ",(0,r.kt)("inlineCode",{parentName:"p"},"AddColorStopLinear()")," for direct linear color input."),(0,r.kt)("h2",{id:"complete-example"},"Complete Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'public void Draw(Canvas canvas) {\n    // Background\n    canvas.SetFillColor(new Color32(240, 240, 240, 255));\n    canvas.FillRect(0, 0, 400, 300);\n\n    // Gradient rectangle\n    canvas.Save();\n    canvas.Translate(50, 50);\n\n    var gradient = CanvasGradient.CreateLinearGradient(0, 0, 150, 100);\n    gradient.AddColorStop(0.0f, new Color32(255, 100, 100, 255));\n    gradient.AddColorStop(1.0f, new Color32(100, 100, 255, 255));\n    canvas.SetFillGradient(gradient);\n    canvas.RoundedRect(0, 0, 150, 100, 10);\n    canvas.Fill();\n\n    // Stroked outline\n    canvas.SetStrokeColor(Color.black);\n    canvas.SetLineWidth(2);\n    canvas.Stroke();\n    canvas.Restore();\n\n    // Text with shadow\n    canvas.SetFont(titleFont);\n    canvas.SetFontSize(32);\n    canvas.SetTextEffect(TextEffect.Fill | TextEffect.Shadow);\n    canvas.SetTextFillColor(Color.white);\n    canvas.SetTextShadowColor(new Color32(0, 0, 0, 100));\n    canvas.SetTextShadowOffset(2, 2);\n    canvas.Text(50, 200, 300, "Hello Canvas!");\n}\n')))}p.isMDXComponent=!0}}]);