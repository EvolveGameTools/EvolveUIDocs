<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-templates/template_syntax">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">Template Syntax | EvolveUI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/EvolveUIDocs/docs/templates/template_syntax"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Template Syntax | EvolveUI"><meta data-rh="true" name="description" content="EvolveUI has a very sophisticated template engine that takes in .ui"><meta data-rh="true" property="og:description" content="EvolveUI has a very sophisticated template engine that takes in .ui"><link data-rh="true" rel="icon" href="/EvolveUIDocs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/EvolveUIDocs/docs/templates/template_syntax"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/EvolveUIDocs/docs/templates/template_syntax" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/EvolveUIDocs/docs/templates/template_syntax" hreflang="x-default"><link rel="stylesheet" href="/EvolveUIDocs/assets/css/styles.67185ab5.css">
<link rel="preload" href="/EvolveUIDocs/assets/js/runtime~main.65326ac3.js" as="script">
<link rel="preload" href="/EvolveUIDocs/assets/js/main.41e08fc5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/EvolveUIDocs/"><div class="navbar__logo"><img src="/EvolveUIDocs/img/style.svg" alt="EvolveUI Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/EvolveUIDocs/img/style.svg" alt="EvolveUI Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Evolve UI</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/EvolveUIDocs/docs/templates/template_syntax">Templates</a><a class="navbar__item navbar__link" sidebarid="tutorials" href="/EvolveUIDocs/docs/Tutorials/QuestLog/introduction">Tutorials</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/EvolveUIDocs/docs/Introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/EvolveUIDocs/docs/getting_started/">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/EvolveUIDocs/docs/Topics/BodyBlock/ControlFlow/if_else">Topics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/EvolveUIDocs/docs/Tutorials/QuestLog/createMainScreen">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/EvolveUIDocs/docs/api_generated/Animation_generated/AnimCurveType">api_generated</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/EvolveUIDocs/docs/styles/colors">Style</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/EvolveUIDocs/docs/templates/UIElement">templates</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EvolveUIDocs/docs/templates/UIElement">UIElement API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EvolveUIDocs/docs/templates/animation_docs">animation_docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EvolveUIDocs/docs/templates/expression_syntax">expression_syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EvolveUIDocs/docs/templates/graph_docs">Execution Graphs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EvolveUIDocs/docs/templates/grid_layout_docs">grid_layout_docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EvolveUIDocs/docs/templates/srp_setup">SRP Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EvolveUIDocs/docs/templates/style_queries">Style Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EvolveUIDocs/docs/templates/style_syntax">Style Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/EvolveUIDocs/docs/templates/template_syntax">Template Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EvolveUIDocs/docs/templates/templates_new">Template Syntax</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/EvolveUIDocs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">templates</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Template Syntax</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Template Syntax</h1><p>EvolveUI has a very sophisticated template engine that takes in <code>.ui</code>
template syntax and converts it to IL code that is executed.
There are two ways this can happen, either at application start up time
or as a build step. When running in dynamic mode, all the templates are
parsed and MSIL is generated for them (assuming there weren&#x27;t any
compilation errors)</p><p>When precompiling we generate real C# code. This means we can fully support any AOT platforms and even run in Unity&#x27;s il2cpp mode.</p><p>Performance between these two modes should be relatively similar,
though precompiling runs a bit faster. Typically
in development you would use dynamic mode because it allows you to
hot-reload the entire UI when you change a template or style file. The
exception to this rule is debugging. If you run into an issue with your
templates that you&#x27;d like to debug, it may be easier to generate the
code and then set a breakpoint in the generated code.</p><p>Ok, on to the fun stuff!</p><p>Totally random ordering...will improve this later</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exploring-template-syntax">Exploring Template Syntax<a href="#exploring-template-syntax" class="hash-link" aria-label="Direct link to Exploring Template Syntax" title="Direct link to Exploring Template Syntax">​</a></h2><p>A template is defined in a <code>.ui</code> file and describes the structure of a UI.
EvolveUI is entirely template based and does not support
manual hierarchy manipulation from code. This is completely by design
and while it may feel limiting when you first read this, it is actually
a huge benefit because of another awesome feature: Data Binding.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-binding">Data Binding<a href="#data-binding" class="hash-link" aria-label="Direct link to Data Binding" title="Direct link to Data Binding">​</a></h2><p>Any field, property, method, event, or value you use in data binding
expressions will need to be public. The reason for this is that when the
code is pre-compiled to C#, it will not compile if you use non
accessible values.</p><p>In general you want to keep the data flow of
your UI in a top down direction. There are use cases for two way binding
on some elements like <code>TextInput</code> or <code>Dropdown</code> but in general you should
strive to pass data down to children and not up to parents.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="referencing-c-namespaces">Referencing C# Namespaces<a href="#referencing-c-namespaces" class="hash-link" aria-label="Direct link to Referencing C# Namespaces" title="Direct link to Referencing C# Namespaces">​</a></h2><p>Evolve can reference namespaces with at <code>using</code> statement that functions identically to C#&#x27;s <code>using</code> statement</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collectsion.Generic;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template UsingNameSpaceExample {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // without the using statement, the compiler would not be able to find the List type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state List&lt;string&gt; strings = new List&lt;strings&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(strings.Count);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="referencing-other-evolve-modules">Referencing other Evolve modules<a href="#referencing-other-evolve-modules" class="hash-link" aria-label="Direct link to Referencing other Evolve modules" title="Direct link to Referencing other Evolve modules">​</a></h2><p>Imports work on a module level, once imported, all styles, elements, templates, and functions are available via the imported alias
using the scope specifier operator ::.
<code>MyModule::SomeElement(style = [@MyModule::some-style])</code>.
You can also import everything in a module and expose it implicitly (without needing the scope operator)
but if any naming conflicts occur, an error will be raised and you will need to use the scope operator in order to disambiguate the names.
Modules that are imported implicitly will still need to provide an alias</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;Module1&quot; as Mod1; // import that defines an alias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import implicit &quot;Module2&quot; as Mod2; // implicit import with an alias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import implicit &quot;Module3&quot;; // no alias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template ImportExample {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Mod1::SomeElementFromModule1(); // Module1 was NOT imported implicitly so the scope operator IS required. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SomeElementFromModule2(); // Module2 was imported implicitly so the scope operator isn&#x27;t required </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Mod2::SomeElementFromModule2(); // Module2 was imported implicitly so the scope operator isn&#x27;t required but </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SomeElementFromModule3(); // Module3 was imported implicitly so the scope operator isn&#x27;t required</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Module3::SomeElementFromModule3(); // Module3 was imported implicitly so the scope operator isn&#x27;t required</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="defining-a-backing-class-for-templates">Defining a Backing Class for templates<a href="#defining-a-backing-class-for-templates" class="hash-link" aria-label="Direct link to Defining a Backing Class for templates" title="Direct link to Defining a Backing Class for templates">​</a></h2><p>Every template requires a backing C# to that must extend <code>UIElement</code>. The purpose of this element is to provide data for the template.
There are three ways provide this backing class. </p><p>The first way is to define your class in C# and then reference it with the <code>:</code> operator in the template declaration</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// in C#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ButtonFromCSharp : UIElement {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string title; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string tooltip = &quot;default value can go here optionally&quot;; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// in a .ui file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template MyButton : ButtonFromCSharp {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // title and tooltip are being from ButtonFromCSharp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(title); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(tooltip);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The second way to is define your class dynamically using the <code>element</code> keyword in a .ui file</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// in a .ui file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Element nodes are shortcuts for defining a C# class extending UIElement. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// It can define only fields that are implicitly public.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Methods, events, and properties are not allowed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">element ButtonFromUIFile {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string title;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string tooltip = &quot;default value goes here optionally&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">element ElementsCanHaveParentClassesFromCSharp : SomeCSharpDefinedBaseClass {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    float someValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">element CanExtendGenerics : SomeCSharpDefinedBaseClass&lt;string&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    float someValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">element CanBeGenerics&lt;T&gt; : SomeCSharpDefinedBaseClassGeneric&lt;T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T someValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">element CanBeGenerics2&lt;T, U&gt; : SomeCSharpDefinedBaseClassGeneric&lt;T, U&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T someValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    U someValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// note the use of the &#x27;element&#x27; keyword here as well</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template MyElement : element ButtonFromUIFile {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // title and tooltip are being from ButtonFromUIFile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(title); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(tooltip);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The third way is useful for when you don&#x27;t actually need to reference any data from a backing element class. In this case
you can completely omit the backing class and one will be generated for you.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">template MyElementWithAnImplicitBackingClass {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ... contents ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="defining-templates">Defining templates<a href="#defining-templates" class="hash-link" aria-label="Direct link to Defining templates" title="Direct link to Defining templates">​</a></h2><p>Templates are defined via the <code>template</code> keyword and given a tag name. In this example we create a template based on the
<code>Button</code> element defined above. It happens to use a tag name <code>ExampleButton</code> and is referred to in templates using
<code>ExampleButton()</code> and not <code>Button()</code>.
Behind the colon (:) comes the namespace and class path of the backing type. In this case we defined <code>Button</code> in the same file
but if we wanted to use a C# class instead we would have to refer to it by its namespace. So if you Button type was in
namespace <code>Example.Controls</code>, the syntax would be <code>template ExampleButton : Example.Controls.Button</code></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">template ExampleButton : element Button() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(text);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(tooltip);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// elements defined in this way can be type referenced with the element&lt;&gt; operator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">element&lt;Button&gt; button;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">button.text = &quot;whatever&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Templates can also accept generic types. The backing class DOES NOT have to also be generic or use the types provided.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Templates can also accept binding arguments like other elements.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template Generic&lt;T, U&gt; : Example.Generic&lt;T, U&gt;(attr:isGeneric = &quot;true&quot;, isCool = true, mouse:click = () =&gt; Debug.Log(&quot;Awesome&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // we can define variables with the var syntax. `var Type variableName = value;`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // variables are re-initialized every frame and do not hold their value across frames</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var T val = value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // the var keyword is optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T valWithoutVarKeyword = value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // state fields work just like variables, but they are persisted across frames. The value assignment runs only once, on creation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state U stateVal = value2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state bool x = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // the assignment value for variables and state fields can be any C# expression where the resulting type can be coearsed to the declared var/state type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var List&lt;string&gt; strings = GetStringList();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // to differentiate between running code and running templates, we use the `run` keyword</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    run x = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    run SomeCSharpFunction();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    run SomethingWithOutParam(out x);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // this can also be a block, then every statement doesn&#x27;t need a `run` command in front of it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    run {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SomeCSharpFunction();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SomethingWithOutParam(out x);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // functions can be defined in templates directly by declaring `Func` and `Actions`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // these functions have access to anything they close over.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state Func&lt;string&gt; getMyStringFn = () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;my string&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // there is some syntax sugar for this that looks a lot more like a local function in C#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string GetMyString() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;my string&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } // note: no semi colon here!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Elements are invoked like functions.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template ElementExample : ElementExample() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // elements can accept property bindings if they define them in C# (or via `element` template declaration)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ElementWithBinding(value = GetValue());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Text primitives accept a string as their default argument</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Styles are referenced via the @ symbol. If the style is originating from a module import,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // the style must be resolved through the imported alias. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;Implict argument&quot;, style = [@text-style]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;Implict argument&quot;, style = [@importedModule::label-style]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // While text cannot have a child elements, other primitive container elements like `Div` can</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Div() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Hello&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // container elements do not have to provide children</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Div();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Templates are also invokable in the same way primitive elements are. Some accept children slots,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // some do not. If the element does not expose a slot for children, and children are provided, you will get an error at compile time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CharacterList(list = characters);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // This element exposes a slot for children. If the name of the slot is `implicit` then the user of the element</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // does not use extra syntax for this. If the name is something else you need to use the `override` keyword with the slot name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ThingAcceptingChildren() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;I&#x27;m a child in the implicit slot&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        override explicit-slot-name {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Text(&quot;I&#x27;m a child in an explicitly named slot&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Things with internal state can have that state &#x27;extruded&#x27; via square bracket syntax.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If our `ThingWithExtrusions` defines a field or property `color` and `id`, we can access them</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // in the nested scope of the template like below. If there are naming conflicts in the scope, you </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // can alias the extruded values with the `as` keyword. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ThingWithExtrusions() [color, id as identifier] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ColorPicker(color = color);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TextField(value = identifier);// refer to ThingWithExtrusions.id as `identifier` instead.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If you need an actual element reference (this is rare) one way to get it is with the `element` keyword and an assignment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    element myThing = ThingWithExtrusions() [color, id as identifier] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ColorPicker(color = color);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TextField(value = identifier);// refer to ThingWithExtrusions.id as `identifier` instead.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // the type of the returned value is the type of the element itself, in this case typeof(UITextElement)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    element text = Text(&quot;This works too&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Functions are snippets of code that can be re-used. At compile time they may get inlined and have no performance overhead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template XYZ : XYZ()  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // functions can accept as many arguments as you like. These are then available in the defining scope of the function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn CallMe(int v) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;The value is: &quot; + v.ToString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Functions are called with the `invoke` keyword</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke CallMe(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke CallMe(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke CallMe(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Functions may also be generically typed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn CallMeGeneric&lt;T, U, V&gt;(T value, U uValue) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;The T value is: &quot; + value.ToString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;The U type is: &quot; +  uValue.ToString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;The V type is: &quot; + typeof(V).ToString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Calling a generic function requires specifying the types explicitly. This may be relaxed in the future. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke CallMeGeneric&lt;int, string, List&lt;bool&gt;&gt;(5, &quot;hello&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke CallMeGeneric&lt;float3, string, float4x4&gt;(new float3(1, 1, 1), &quot;hello&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // functions can be nested within each other, closures are also fully supported so you don&#x27;t need to worry about scoping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn Outer(int outerValue) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;FromOuter&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var int closuresAreFine = 20;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fn Inner() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Text(&quot;From Inner: &quot;  + closuresAreFine + outerValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke Inner();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        run closuresAreFine = 40;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke Inner();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        run closuresAreFine = 60;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke Inner();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke Outer(10);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Functions can expose a body block to be invoked later as the function executes with the `invoke default` directive. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // The body block is optional.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn FuncWithBody() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Before body&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke default;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;After body&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // here is how the body is provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke FuncWithBody() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;I am the body&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // another example, the same function can be invoked with as many body variations as you like</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke FuncWithBody() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;I am the body&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;but i am different&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // functions can also define values to be extruded by their body slots. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // all the extrusion parameters are initialized to default(type) every frame.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // note that the extrusion list here DOES NOT GET PUT INTO THE SCOPE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // this is only to signify the signature which body slots get invoked with </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn FuncWithBodyAndExtrusions(float x, float y) [int invokeCount, string str, float f] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        state int invokeCount = 0; // define state for invokeCount. the extruded int invokeCount is NOT usable and so we define our own </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Before body&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke implicit(invokeCount, &quot;hello&quot;, 57f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        run invokeCount++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;After body&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // here we use the extrusion parameter `invokeCount` and pass it to our body block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke FuncWithBodyAndExtrusions() [invokeCount] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;The function has run &quot; + invokeCount + &quot; times&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // functions can also accept named slots </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @AllowMultipleBodyInvocations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn FnWithSlots() [int callId] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // you can invoke the default body as many times as you like, but you must mark the function as AllowMultipleBodyInvocations,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // otherwise the subsequent slot invocations will silently do nothing. Note that this has some overhead because the body slot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // must be cloned each time it is invoked, where in the default case we do not have this cloning overhead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot implicit(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot implicit(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot implicit(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot implicit(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot implicit(4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // functions can also accept named slots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn FnWithNamedSlots() [int value] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot thing(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot other(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot implicit(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // the name of the slot can be an expression too</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot[Math.Random() &gt; 5 ? &quot;thing&quot; : &quot;other&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // you can also invoke slots that are not provided, these will silently do nothing </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot notHere(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        invoke slot[&quot;not_defined&quot;](4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke FnWithNamedSlots() [int value] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        slot thing {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Text(&quot;Im in slot &#x27;thing&#x27;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        slot other {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Text(&quot;Im in slot &#x27;other&#x27;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Everything else is in the implicit slot&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // an example use case for slots might be content transitions with animations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // function arguments can also be synchronized to reflect their values into the caller,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // as long as the input expression is assignable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn DoubleThis(int val) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        run val *= 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state int x = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state int y = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke DoubleThis(sync: x);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    invoke DoubleThis(y);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    run Debug.Log(x); // output =&gt; 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    run Debug.Log(y); // output =&gt; 10 because it didn&#x27;t sync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="control-flow">Control flow<a href="#control-flow" class="hash-link" aria-label="Direct link to Control flow" title="Direct link to Control flow">​</a></h2><p>Control flow is done similar to C#, we have if/else, switch, and foreach concepts.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">template ControlFlow {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(someCondition) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Some condition is true&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else if(!someCondition &amp;&amp; somethingElse) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Some condition is false but something else is true&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Some condition is false&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // switches work on enums or integer-like things (ushort, short, byte, char, etc). There is no fall through, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // and the cases must be followed by a set of { }. There is also no break keyword. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    switch(someIntValueorEnum) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        case 0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        case 100 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Foreach is like a repeat, it invokes the provided body block multilpe times.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // By default the current item is exposed as whatever you name it. The index is available via extrusion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach(item in list) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(item.name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach(item in list) [index] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(item.name + &quot; is at index &quot; + index);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // length is also available</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach(item in list) [index, length] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(item.name + &quot; is at index &quot; + index + &quot; out of &quot; + length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Pagination is also available. (start at item 20, show at most 20)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach(item in list, start = 10, count = 20) { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Pagination is also available. (start at item 20, show at most 20, every iteration jumps 2 elements)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach(item in list, start = 10, count = 20, step = 2) { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach(item in ForeachRange.Times(5)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // loop 5 times</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach(item in ForeachRange.Inclusive(5, 25)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // loop with item ranging from 5 to 25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach(item in ForeachRange.Exclusive(5, 25)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // loop with item ranging from 5 to 24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach(item in list, step = 2) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // loop over every 2nd item</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach(item in list, start = 8, end = 12) [index, iteration] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // loop items 8 to 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // index will hold the absolute index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // iteration holds the iteration number </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // scope lifecycle can also be controlled. Sometimes you have UI where you know the elements will not be used again for a while</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // In this case its best to just destroy everything and re-create it when you need it again. In other cases you have elements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // you expect to use again shortly and you want to just disable them when the surrounding scope is not entered. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(something) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // by default we just disable these elements if the branch is not entered</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Disable me if something is false&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if:destructive(something) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // if we use the `destructive` modifier, we destroy the contents of this scope if the branch is not taken</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Destroy me if something is false&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // All the control flow concepts can be marked as `destructive`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(x) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else:destructive {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // all cases are destroyed if not used</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    switch:destructive(thing) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    switch(thing) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        case:destructive 0 {        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        case:destructive 100 {        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach:destructive(item in list) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="life-cycle-sections">Life cycle sections<a href="#life-cycle-sections" class="hash-link" aria-label="Direct link to Life cycle sections" title="Direct link to Life cycle sections">​</a></h2><p>Sections allow arbitrary code to be run on certain lifecycle events for a scope.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template SectionDemo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state int enableCount = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state int disableCount = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Create runs when this scope is first created and never again. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    create {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Created the template&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(x == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Enable runs when this scope is entered and was not entered last frame</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        enable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            enableCount++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Debug.Log(&quot;Enabled &quot; + enableCount + &quot;times&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Disable runs when this scope was entered last frame and was not entered this frame.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Note that some bindings may not have run (because we didnt enter certain scopes this frame)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // and data *might* be stale, you will have to architect around this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        disable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            disableCount++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Debug.Log(&quot;Disabled &quot; + disableCount + &quot;times&quot;); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Destroy runs when the scope was destroyed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        destroy {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Debug.Log(&quot;Destroyed!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // It doesn&#x27;t matter where you put these section blocks, they can go anywhere in the template and a single scope can have multiple blocks. Go nuts!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    switch(x) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        case 0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            enable { Debug.Log(&quot;Enabled!&quot;); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Text(&quot;Element&quot;):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            enable { Debug.Log(&quot;Enabled in a second block&quot;); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    create {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Created the template&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="slots">Slots<a href="#slots" class="hash-link" aria-label="Direct link to Slots" title="Direct link to Slots">​</a></h2><p>Slots are ways of exposing pluggable functionality between elements. They are a low overhead way to customize certain elements from the outside
There are two types of slots: fixed and dynamic</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template SlotExample : SlotExample() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // you define a slot by giving it a name. The only special name is `implicit` which allows the user to </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // write their template as though they were not overriding a slot.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Slot definition can happen in two ways. The first way defines the slot, but doesn&#x27;t actually use it.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    define slot implicit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // slot definitions can optionally provide a default body block. This block is used if the slot is not overridden.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    define slot implicit()  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Default body for slot&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // in order to render a slot, you use the `render keyword`. You can render a single slot as many times as you like, wherever you like. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    render slot implicit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(condition) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        render slot implicit();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Slots can also accept arguments that will provided as extrusions to the overrider. These arguments are given default values if provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    define slot withArguments(int arg0 = GetArgument(), string name = &quot;Matt&quot;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;arg0 is: &quot; + arg0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Name is: &quot; + name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    render slot withArguments(10, &quot;Franz&quot;); // override the default arguments with different values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    render slot withArguments(30, &quot;Lea&quot;); // override the default arguments with different values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // The usual case is that you define a slot once and render it only once. There is a shorthand for this. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // this defines and renders the slot in a single statement.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    slot usingShorthand() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Default body&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// there are two variations of using slots. We will build off the last slots example here.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template UsingSlotsExample : UsingSlotsExample() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SlotExample() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // start of override implicit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;This is overriding the default slot&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;the default override must come before any explicit overrides or you will get compile errors&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // end of override implicit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        override withArguments [arg0, name] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Text(&quot;This will override the slot called `withArguments`. The arguments are provided as extrusions, but you do not have to use them&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // when overriding a slot, you replace the default block with your override. If you want to still invoke the default body, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // you can do so via the `render default` declaration.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            render default; // invokes the default body</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            render default; // invokes the default body again, you can do this as much as you want, but you don&#x27;t have to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        override usingShorthand {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Text(&quot;Override the shorthand slot, its not different than the long version from the overrider&#x27;s perspective&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-slots">Dynamic Slots<a href="#dynamic-slots" class="hash-link" aria-label="Direct link to Dynamic Slots" title="Direct link to Dynamic Slots">​</a></h2><p>Dynamic slots don&#x27;t require a slot name to be provided at compile time and can even change during runtime.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// the SlotSignature decorator defines the signature that ALL dynamic slots for this element must provide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// i this case the slot accepts a float with the name value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@SlotSignature(float value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template SlottedThing : element SlottedThing {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // the slotName here is a dynamic string argument,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // if the value matches one of the slot overrides, that override will render</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // if no match is found, nothing gets rendered. The argument list corresponds to the arguments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // defined in @SlotSignature, in this case it is a float</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    render slot [slotName](25f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SlottedThing(slotName = &quot;something&quot;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // define dynamic slots using the slot keyword</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // just like other slots and extrusions, arguments can be provided or ignored</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // `value` here maps to the name provided i SlottedThing.SlotSignature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    slot something [value] { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Hello something &quot; + value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    slot namedThing [value] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;Hello namedThing &quot; + value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portals">Portals<a href="#portals" class="hash-link" aria-label="Direct link to Portals" title="Direct link to Portals">​</a></h2><p>Portals are kind of like a reverse slot. It is a way to inject content elsewhere in the app while still
having a binding scope that is local to the element. A great example of this is a tooltip or a modal dialog.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">template PortalExample : PortalExample() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // there are two parts to the syntax, the first is what you want teleported. In this case we want to show our </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // &#x27;Confirm&#x27; button in a modal overlay. However we haven&#x27;t yet rendered the modal layer because it natually must </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // appear on top of the rest of our UI.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    teleport-&gt;(&quot;Modal&quot;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // any bindings will run at this point and all context is lexical </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(!isConfirmed) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Button(&quot;Confirm&quot;, mouse:click = isConfirmed = true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //... later in another template we will render the modal itself</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Modal.ui</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    render portal(&quot;Modal&quot;); // this is where our Button element actually renders.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // we are able to use the button in the binding scope of our template but it is somewhere completely different in the hierarchy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // important! this also means that it will be laid out and styled as though its parent were the parent of the portal,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // it is completely disconnected from its original usage except for bindings!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="decorators">Decorators<a href="#decorators" class="hash-link" aria-label="Direct link to Decorators" title="Direct link to Decorators">​</a></h2><p>Decorators are ways to inject behavior into elements that already defined. Example use cases might be we want to track some analytics
to see how often certain UIs are being used, or we want certain actions to trigger a route state change, or we need a way to
add tooltips to elements without refactoring the elements to be tooltip aware.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">template DecoratorExample : DecoratorExample() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // lets turn this button into something that is able to switch between menu screens. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // We could add a click handler here that does this logic, but it would be better if we </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // could hook into a menu transition system that we previously created.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Button(&quot;Take me there!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // using a decorator (which can be user defined) we add functionality that intercepts the button click</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // and invokes our route transition instead. We didn&#x27;t even alter the button to do this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RouterLink(&quot;/game/main_menu&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Button(&quot;Take me there!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Decorators can also accept arbitrary bindings. In this case I extended the Button to also track how many times it was clicked,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // And setup an analytics category with an identifier. Button itself didn&#x27;t change at all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @TrackClicks(category = &quot;Transitions&quot;, identifier = &quot;Go To Main Menu&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Button(&quot;Take me there!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // We can combine as many decorators as we like. Here is the button with both analytics and routing attached</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RouterLink(&quot;/game/main_menu&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @TrackClicks(category = &quot;Transitions&quot;, identifier = &quot;Go To Main Menu&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Button(&quot;Take me there!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // decorators can also extrude their state, this is only valid if the decorator is marked as `persistent`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @TrackClicks(category = &quot;Transitions&quot;, identifier = &quot;Go To Main Menu&quot;) [totalClicks]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Button(&quot;Clicked: &quot; + totalClicks + &quot; times&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // decorators can also extrude their `this` value but doing so requires an `as` alias.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @TrackClicks(category = &quot;Transitions&quot;, identifier = &quot;Go To Main Menu&quot;) [$this as clickTracker]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Button(&quot;Clicked: &quot; + clickTracker.totalClicks + &quot; times&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="containers-and-typography">Containers and Typography<a href="#containers-and-typography" class="hash-link" aria-label="Direct link to Containers and Typography" title="Direct link to Containers and Typography">​</a></h2><p>Containers are like templates but without the template
You can provide default handlers, decorators and binding values
and even require it to have children, not to have children, or only allow children
of a certain type. Containers may only appear at the top level in a .ui file
and cannot be defined inside of a template or function body</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">container Container : CompilerTest.ContainerElement(style = [@container-test],mouse:click = () =&gt; Debug.Log(&quot;Clicked Container&quot;),attr:container = &quot;true&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// an untyped container implictly extends `UIDefaultUntypedContainer` and can still accept</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// styling, attributes, input handlers, and decorators but no bindings (because the backing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// type doesn&#x27;t have any fields or methods to bind to).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">container UntypedContainer(style = [@untyped]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// You can make containers generic if you like. The type `T` in this case will be in scope</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// for any bindings on the container but not for any of its children. Here we use a generic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// where the backing class ignores the generic type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">container GenericContainer&lt;T&gt;(attr:typeName = typeof(T));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// This time we use a backing type that happens to be generic, but the type is not</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// the type of our container, which is totally fine.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">container GenericContainerMismatch&lt;T&gt; : CompilerTest.GenericContainer&lt;string&gt; (attr:typeName = typeof(T));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// This time we use a backing type that happens to be generic, this time the container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// generic and the backing class generic match, whatever type you pass into the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// container will be used to instantiate the backing type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">container GenericContainerMatch&lt;T&gt; : CompilerTest.GenericContainer&lt;T&gt; (attr:typeName = typeof(T));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// any decorators you put on the container definition will be implicitly carried to their call sites too</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ClickTracker(&quot;Group1&quot;, category = &quot;Category&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">container AnnotatedContainer();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Using containers is just like using other elements, they accept bindings, styles, attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// etc and can have children or not.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UntypedContainer(style = [@untyped]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GenericContainerMismatch&lt;string&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GenericContainerMatch&lt;float3&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GenericContainer&lt;string&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GenericContainer&lt;int&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AnnotatedContainer(); // implicitly carries the @ClickTracker decorator here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Containers can also extrude their values just like all other elements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GenericContainerMatch&lt;float&gt;() [$element, value] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;Value is: &quot; + value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;Element Type&quot; + $element.GetType());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    run value++; // the extrusions are by reference too, like normal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Container(attr:container = &quot;override&quot;, mouse:click = () =&gt; Debug.Log(&quot;Clicked&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;In a container&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Typography can also be defined in the same way as containers by using the <code>typography</code> keyword
it behaves identically to <code>container</code> except cannot accept a backing class, has no children, and
behaves identically to a Text() element. This lets you define various typography elements without
always passing styles to them</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">typography Label()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="string-interpolation">String Interpolation<a href="#string-interpolation" class="hash-link" aria-label="Direct link to String Interpolation" title="Direct link to String Interpolation">​</a></h2><p>String interpolation works in the template language just like in C#
If you add a $ before the quote in a string, any expressions within { } are evaluated
This works anywhere strings are accepted, not just text elements</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Text(&quot;Hello {19 + 51}&quot;); // prints &quot;Hello {19 + 51}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Text($&quot;Hello {19 + 51}&quot;); // prints &quot;Hello 70&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="markers">Markers<a href="#markers" class="hash-link" aria-label="Direct link to Markers" title="Direct link to Markers">​</a></h2><p> Markers are how we can navigate element hierarchies.
they are defined in templates via the <code>marker</code> keyword and
they accept an identifier as a name.
once defined they can be passed around, but they do not become
valid until after their block ends</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">marker x {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // x not accessible here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;marker element 0&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Div() { // 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;marker element 2&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;marker element 3&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;marker element 4&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Text(&quot;marker element 5&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;Third marker element 6&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Div() { // 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Div() { // 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Text(&quot;marker element 9&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// outside the marker block, x follows all the regular scoping rules.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">run PrintMarker(x);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once you have a marker it gives you access to all the elements within it via enumerators
note: this in C#, not in the template language but you could do the same thing in the template via a run block</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public void PrintMarker(HierarchyMarker marker) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UIElement parent = marker.GetParent();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UIElement firstMarkedElement = marker.GetFirstElement();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int elementCount = marker.ElementCount; // 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool hasElements = marker.HasElements; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool isValue = marker.IsValid; // returns if the marker has elements and is still valid for the current frame</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HierarchyMarker unscoped = marker.GetUnscoped(); // returns a new marker as though the parent element has been the only marked element</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // create a marker as though `element` had been the only marked element</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // only valid during the binding run, and must be called after the target </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // element has been visited by the binding pass. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HierarchyMarker fromElement = HierarchyMarker.FromElement(someInstance); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // enumerate all top level elements =&gt; 0, 1, 6, 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach (UIElement element in marker.GetSiblingEnumerator()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Sibling: &quot; + element);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // enumerate all elements regardless of hierarchy position </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach (UIElement element in marker.GetEnumerator()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Element: &quot; + element);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // enumerates up the tree, will not return anything inside the { } block, rather the ancestors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach (UIElement parent in marker.GetAncestorEnumerator()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Ancestor: &quot; + parent);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // skips the first level and returns the children. in this example =&gt; 2, 3, 4, 5, 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach (UIElement child in marker.GetChildrenEnumerator()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Child: &quot; + child);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // skips the first level and returns the descendents. in this example =&gt; 2, 3, 4, 5, 8, 9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach (UIElement descendent in marker.GetDescendentEnumerator()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Descendent: &quot; + descendent);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Markers can be used for a lot more than just iteration however. They can also allow elements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// to be moved around in the hierarchy.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">marker m0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// marker bindings run at the time they are encountered in the hierarchy, like normal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;Inside of a marker&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// but we can choose to draw them some where else via the render marker function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Div() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;Somewhere else&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    render marker(m0); // m0 renders here, not where it was defined!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// sometimes we aren&#x27;t sure if something should be displayed or not. For this purpose we can use a deferred marker.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// marker will run the bindings here and the elements touched will be enabled as usual</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// however if there is no render marker() call for this marker, these elements will not</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// be part of layout and will not be rendered at all!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">marker:defer m1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;Maybe show me&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// we can decide later if we want to use it or not</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if(someCondition) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    render marker(m1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// markers can only be rendered once. If a marker is rendered multliple times, the last one wins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">render marker(m1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">render marker(m1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">render marker(m1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// markers are just variables, they can be passed around to functions too</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Element(markerField = m1); // this element might decide to render the marker m1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// You can also explicitly hide/show markers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$runtime.HideMarker(marker);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$runtime.ShowMarker(marker);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lifecycle-hooks">Lifecycle Hooks<a href="#lifecycle-hooks" class="hash-link" aria-label="Direct link to Lifecycle Hooks" title="Direct link to Lifecycle Hooks">​</a></h2><p>Elements can declare life cycle handles directly in templates as well as in C#
Like the template method, this handle accepts not arguments, but does in inject
and element reference via the <code>$this</code> symbol which you can optionally use.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Div(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    on:enable = ()     { Debug.Log(&quot;Enabled &quot; + $this); },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    on:create = ()     { Debug.Log(&quot;Created &quot; + $this); },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    on:update = ()     { Debug.Log(&quot;Updated &quot; + $this); },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    on:postUpdate = () { Debug.Log(&quot;Post Updated &quot; + $this); },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    on:disable = ()    { Debug.Log(&quot;Disable &quot; + $this); },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    on:destroy = ()    { Debug.Log(&quot;Destroy &quot; + $this); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="expression-extrusion">Expression Extrusion<a href="#expression-extrusion" class="hash-link" aria-label="Direct link to Expression Extrusion" title="Direct link to Expression Extrusion">​</a></h2><p>Similar to how we can extrude values in templates, expressions can also extrude values
note the difference though: there is a required -&gt; arrow and we don&#x27;t support the <code>as</code>
syntax within the extrusion identifier block. Also when nesting extrusion blocks
a semi colon is required at the end just like any other statement type.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">state KeyFrameAnimation&lt;Color&gt; anim = new KeyFrameAnimation&lt;Color&gt;() -&gt; [a] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a.SetDuration(1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a.AddKeyFrame(0, Color.red);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a.AddKeyFrame(1000, Color.yellow);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    curveAnim -&gt; [c] {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c.Thing();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c.Thing();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c.Thing();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c.Thing();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c.Thing();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="modules">Modules<a href="#modules" class="hash-link" aria-label="Direct link to Modules" title="Direct link to Modules">​</a></h2><p>The idea behind modules is that they are portable between projects. They packages templates, styles, and assets together
and serve as a basis for resolving imports within .ui files. Modules can have dependencies on other modules.</p><p>There are no visibility rules for elements, all template / element declarations are considered to be public.</p><p>If a module (A) includes a dependency on another module (B) and (B) declares a dependency on (C), and (A) wants to
reference something in (C), (A) must declare a dependency on (C), it does NOT automatically inherit (B)&#x27;s dependency on (C)</p><p>Modules are file system scoped and cannot be nested. A template &amp; style file belong to the nearest module at the same level
or above them in the file tree. If no module asset exists in the project, it is an error.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// some file.ui</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;SomeModuleName&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;OtherModule&quot; as Lib; // import &#x27;OtherModule&#x27; and alias it as &#x27;Lib&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// A Module (which is an asset in Unity) can define a list of &#x27;implicit&#x27; imports</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// and these function as though the user had written `import &quot;SomeModule&quot;` </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// in every file belonging to that module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">template Something {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // the scope resolution operator is used to reference elements residing in imported modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SomeModuleName::Button();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Lib::Button(); // using the alias </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OtherModule::Button(); // using the full name, same result as the line above</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Button(); // if no scope resolution operator is present, resolution is as follows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              // 1. If the &#x27;current&#x27; module in which this file is defined defines </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              //    a template called &#x27;Button&#x27;, then we us it. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              // 2. If the current module does not define &#x27;Button&#x27;, we look all the </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              //    imported modules declared in this file and search for &#x27;Button&#x27;. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              //    If one is found, we use it. If multiple imported modules define</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              //    &#x27;Button&#x27;, we throw an Ambiguous import error and the user is required</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              //    to use the :: operator to specify which version of &#x27;Button&#x27; to use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/EvolveUIDocs/docs/templates/style_syntax"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Style Syntax</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/EvolveUIDocs/docs/templates/templates_new"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Template Syntax</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#exploring-template-syntax" class="table-of-contents__link toc-highlight">Exploring Template Syntax</a></li><li><a href="#data-binding" class="table-of-contents__link toc-highlight">Data Binding</a></li><li><a href="#referencing-c-namespaces" class="table-of-contents__link toc-highlight">Referencing C# Namespaces</a></li><li><a href="#referencing-other-evolve-modules" class="table-of-contents__link toc-highlight">Referencing other Evolve modules</a></li><li><a href="#defining-a-backing-class-for-templates" class="table-of-contents__link toc-highlight">Defining a Backing Class for templates</a></li><li><a href="#defining-templates" class="table-of-contents__link toc-highlight">Defining templates</a></li><li><a href="#control-flow" class="table-of-contents__link toc-highlight">Control flow</a></li><li><a href="#life-cycle-sections" class="table-of-contents__link toc-highlight">Life cycle sections</a></li><li><a href="#slots" class="table-of-contents__link toc-highlight">Slots</a></li><li><a href="#dynamic-slots" class="table-of-contents__link toc-highlight">Dynamic Slots</a></li><li><a href="#portals" class="table-of-contents__link toc-highlight">Portals</a></li><li><a href="#decorators" class="table-of-contents__link toc-highlight">Decorators</a></li><li><a href="#containers-and-typography" class="table-of-contents__link toc-highlight">Containers and Typography</a></li><li><a href="#string-interpolation" class="table-of-contents__link toc-highlight">String Interpolation</a></li><li><a href="#markers" class="table-of-contents__link toc-highlight">Markers</a></li><li><a href="#lifecycle-hooks" class="table-of-contents__link toc-highlight">Lifecycle Hooks</a></li><li><a href="#expression-extrusion" class="table-of-contents__link toc-highlight">Expression Extrusion</a></li><li><a href="#modules" class="table-of-contents__link toc-highlight">Modules</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Evolve Game Tools GmbH. Built with Docusaurus.</div></div></div></footer></div>
<script src="/EvolveUIDocs/assets/js/runtime~main.65326ac3.js"></script>
<script src="/EvolveUIDocs/assets/js/main.41e08fc5.js"></script>
</body>
</html>